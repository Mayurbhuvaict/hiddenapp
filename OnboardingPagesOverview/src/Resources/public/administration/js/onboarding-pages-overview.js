!function(e){var t={};function n(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/bundles/onboardingpagesoverview/",n(n.s="65xp")}({"65xp":function(e,t,n){"use strict";n.r(t);var a=n("ECzg"),s=n.n(a);function i(e,t,n,a,s,i,r){try{var o=e[i](r),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(a,s)}var r=Shopware,o=r.Component,c=r.Mixin,l=Shopware.Data.Criteria;o.register("sw-cms-pages-list",{template:s.a,inject:["repositoryFactory","acl"],mixins:[c.getByName("listing")],data:function(){return{pages:null,isLoading:!0,sortBy:"title",sortDirection:"ASC",total:0,searchConfigEntity:"cms_pages_overview"}},metaInfo:function(){return{title:this.$createTitle()}},computed:{pageRepository:function(){return this.repositoryFactory.create("cms_pages_detail")},CmsPageOverviewRepository:function(){return this.repositoryFactory.create("cms_pages_overview")},cmsColumns:function(){return[{property:"title",dataIndex:"title",allowResize:!0,routerLink:"sw.cms.pages.detail",label:"sw-cms-pages.list.title",primary:!0},{property:"cmsPagesOverview.name",allowResize:!0,label:"sw-cms-pages.list.page",useCustomSort:!1}]},pageCriteria:function(){var e=new l(this.page,this.limit);return e.setTerm(this.term),e.addSorting(l.sort(this.sortBy,this.sortDirection,this.naturalSorting)),e}},methods:{onChangeLanguage:function(e){this.getList(e)},getList:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,t.addQueryScores(t.term,t.pageCriteria);case 3:if(n=e.sent,t.entitySearchable){e.next=8;break}return t.isLoading=!1,t.total=0,e.abrupt("return",!1);case 8:return t.freshSearchTerm&&n.resetSorting(),e.abrupt("return",t.pageRepository.search(n).then((function(e){t.pages=e,t.total=e.total;for(var n=function(e){var n=t.pages[e].pageId,a=new l;a.addFilter(l.equals("id",n)),t.CmsPageOverviewRepository.search(a,Shopware.Context.api).then((function(n){t.pages[e].cmsPage=n[0].pageName}))},a=0;a<t.pages.length;a++)n(a);t.isLoading=!1})));case 10:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,s){var r=e.apply(t,n);function o(e){i(r,a,s,o,c,"next",e)}function c(e){i(r,a,s,o,c,"throw",e)}o(void 0)}))})()},updateTotal:function(e){var t=e.total;this.total=t}}});var d=n("OOSa"),p=n.n(d);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=Shopware,w=_.Component,h=_.Mixin,b=_.Data.Criteria,f=Shopware.Component.getComponentHelper(),v=f.mapPropertyErrors;f.mapState;w.register("sw-cms-pages-detail",{template:p.a,inject:["repositoryFactory","acl"],mixins:[h.getByName("placeholder"),h.getByName("notification"),h.getByName("discard-detail-page-changes")("cmsPages")],props:{pageId:{type:String,required:!1,default:null},name:{type:String,required:!1,default:null}},data:function(){return{cmsPagesOverview:{},cmsIds:[],cmsPages:null,customFieldSets:[],isLoading:!1,isSaveSuccessful:!1}},metaInfo:function(){return{title:this.$createTitle(this.identifier)}},computed:g(g({},v("cmsPages",["cmsPageId"])),{},{cmsPageId:{get:function(){return this.cmsPages.pageId},set:function(e){this.cmsPages.pageId=e}},cmsPageCriteria:function(){var e=new b(this.page,this.limit),t=new b(this.page,this.limit);return this.pageRepository.search(e,Shopware.Context.api).then((function(e){e.map((function(e,n){t.addFilter(b.not("and",[b.equals("id",e.pageId)]))}))})),t},identifier:function(){return this.placeholder(this.cmsPages,"title")},cmsIsLoading:function(){return this.isLoading||null==this.cmsPages},pageRepository:function(){return this.repositoryFactory.create("cms_pages_detail")},cmsPageOverviewRepository:function(){return this.repositoryFactory.create("cms_pages_overview")},mediaRepository:function(){return this.repositoryFactory.create("media")},customFieldSetRepository:function(){return this.repositoryFactory.create("custom_field_set")},customFieldSetCriteria:function(){var e=new b(1,null);return e.addFilter(b.equals("relations.entityName","cms_pages_detail")),e},mediaUploadTag:function(){return"sw-cms-pages-detail--".concat(this.cmsPages.id)},tooltipSave:function(){if(this.acl.can("cms_pages_detail.editor")){var e=this.$device.getSystemKey();return{message:"".concat(e," + S"),appearance:"light"}}return{showDelay:300,message:this.$tc("sw-privileges.tooltip.warning"),showOnDisabledElements:!0}},tooltipCancel:function(){return{message:"ESC",appearance:"light"}}}),watch:{},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.pageId?this.loadEntityData():(Shopware.State.commit("context/resetLanguageToDefault"),this.cmsPages=this.pageRepository.create())},loadEntityData:function(){var e=this;this.isLoading=!0,this.pageRepository.get(this.pageId).then((function(t){e.isLoading=!1,e.cmsPages=t})),this.customFieldSetRepository.search(this.customFieldSetCriteria).then((function(t){e.customFieldSets=t}))},abortOnLanguageChange:function(){return this.pageRepository.hasChanges(this.cmsPages)},onUpdatePage:function(){return this.$route.params.id?1:0},saveOnLanguageChange:function(){return this.onSave()},onChangeLanguage:function(){this.loadEntityData()},setMediaItem:function(e){var t=e.targetId;this.cmsPages.mediaId=t},onDropMedia:function(e){this.setMediaItem({targetId:e.id})},setMediaFromSidebar:function(e){this.cmsPages.mediaId=e.id},onUnlinkLogo:function(){this.cmsPages.mediaId=null},openMediaSidebar:function(){this.$refs.mediaSidebarItem.openContent()},onSave:function(){var e=this;this.isLoading=!0,this.pageRepository.save(this.cmsPages).then((function(){if(e.isLoading=!1,e.isSaveSuccessful=!0,null===e.pageId)return e.$router.push({name:"sw.cms.pages.list"}),e.$router.push({name:"sw.cms.pages.detail",params:{id:e.cmsPages.id}}),void window.location.reload();e.loadEntityData()})).catch((function(t){throw e.isLoading=!1,e.createNotificationError({message:e.$tc("global.notification.notificationSaveErrorMessageRequiredFieldsInvalid")}),t}))},onCancel:function(){this.$router.push({name:"sw.cms.pages.list"})}}});n("rewi");Shopware.Module.register("sw-cms-pages",{type:"plugin",name:"cms-pages",entity:"cms_pages_detail",color:"rgb(255, 104, 180)",icon:"default-shopping-paper-bag-product",routes:{list:{component:"sw-cms-pages-list",path:"list"},detail:{component:"sw-cms-pages-detail",path:"detail/:id",meta:{parentPath:"sw.cms.pages.list",privilege:"cms_pages_detail.viewer"},props:{default:function(e){return{pageId:e.params.id}}}},create:{component:"sw-cms-pages-detail",path:"create",meta:{parentPath:"sw.cms.pages.list",privilege:"cms_pages_detail.creator"}}},navigation:[{label:"Cms Pages",color:"rgb(255, 104, 180)",path:"sw.cms.pages.list",parent:"sw-content",icon:"default-shopping-paper-bag-product",position:100}]})},ECzg:function(e,t){e.exports='{% block sw_cms_pages_list %}\n    <sw-page class="sw-cms-pages-list">\n        {% block sw_cms_pages_list_search_bar %}\n            <template #search-bar>\n                <sw-search-bar\n                    initial-search-type="cms-pages-overview"\n                    :initial-search="term"\n                    @search="onSearch"\n                />\n            </template>\n        {% endblock %}\n\n        {% block sw_cms_page_list_smart_bar_header %}\n            <template #smart-bar-header>\n                {% block sw_cms_pages_list_smart_bar_header_title %}\n                    <h2>\n                        {% block sw_cms_pages_list_smart_bar_header_title_text %}\n                            {{ $tc(\'sw-cms-pages.list.cmsPages\') }}\n                        {% endblock %}\n\n                        {% block sw_cms_pages_list_smart_bar_header_amount %}\n                            <span\n                                v-if="!isLoading"\n                                class="sw-page__smart-bar-amount"\n                            >\n                              ({{ total }})\n                           </span>\n                        {% endblock %}\n                    </h2>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block sw_cms_pages_list_actions %}\n            <template #smart-bar-actions>\n                {% block sw_cms_pages_list_smart_bar_actions %}\n                    <sw-button\n                        v-tooltip.bottom="{\n                            message: $tc(\'sw-privileges.tooltip.warning\'),\n                            disabled: acl.can(\'cms_pages_detail.creator\'),\n                            showOnDisabledElements: true\n                        }"\n                        :router-link="{ name: \'sw.cms.pages.create\' }"\n                        :disabled="!acl.can(\'cms_pages_detail.creator\')"\n                        variant="primary"\n                    >\n                        {{ $tc(\'sw-cms-pages.list.addPage\') }}\n                    </sw-button>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n\n        {% block sw_cms_pages_list_language_switch %}\n            <template #language-switch>\n                <sw-language-switch @on-change="onChangeLanguage" />\n            </template>\n        {% endblock %}\n\n        <template #content>\n            {% block sw_cms_pages_list_content %}\n                <div class="sw-manufacturer-list__content">\n                    {% block sw_cms_page_list_list_grid %}\n                        <sw-entity-listing\n                            v-if="entitySearchable"\n                            detail-route="sw.cms.pages.detail"\n                            :is-loading="isLoading"\n                            :columns="cmsColumns"\n                            :repository="pageRepository"\n                            :items="pages"\n                            :criteria-limit="limit"\n                            :sort-by="currentSortBy"\n                            :sort-direction="sortDirection"\n{#                            @inline-edit-save="onInlineEditSave"#}\n{#                            @inline-edit-cancel="onInlineEditCancel"#}\n                            :disable-data-fetching="true"\n{#                            :allow-edit="acl.can(\'cms_pages_overview.editor\')"#}\n{#                            :allow-inline-edit="acl.can(\'cms_pages_overview.editor\')"#}\n{#                            :allow-delete="acl.can(\'cms_pages_overview.deleter\')"#}\n{#                            :show-selections="acl.can(\'cms_pages_overview.deleter\')"#}\n                            identifier="sw-cms-pages-list"\n                            @update-records="updateTotal"\n                            @page-change="onPageChange"\n                            @column-sort="onSortColumn"\n                        >\n                            {% block sw_cms_page_list_grid_columns_name_preview %}\n                                <template #preview-name="{ item }">\n                                    <sw-media-preview-v2 :source="item.mediaId" />\n                                </template>\n                            {% endblock %}\n                        </sw-entity-listing>\n                    {% endblock %}\n                     @deprecated tag:v6.5.0 - Will be removed\n                    {% block sw_pages_list_grid_loader %}{% endblock %}\n                </div>\n            {% endblock %}\n\n        </template>\n    </sw-page>\n{% endblock %}\n'},OOSa:function(e,t){e.exports='{% block sw_cms_pages_detail %}\n    <sw-page class="sw-cms-pages-detail">\n        {% block sw_cms_pages_detail_header %}\n            <template #smart-bar-header>\n                <h2>{{ placeholder(cmsPages, \'title\', $tc(\'sw-cms-pages.detail.addPage\')) }}</h2>\n            </template>\n        {% endblock %}\n        {% block sw_cms_pages_detail_actions %}\n            <template #smart-bar-actions>\n                {% block sw_cms_pages_detail_actions_abort %}\n                    <sw-button\n                        v-tooltip.bottom="tooltipCancel"\n{#                        :disabled="manufacturerIsLoading"#}\n                        @click="onCancel"\n                    >\n                        {{ $tc(\'sw-cms-pages.detail.cancel\')}}\n                    </sw-button>\n                {% endblock %}\n\n                {% block sw_cms_pages_detail_actions_save %}\n                    <sw-button-process\n                        v-model="isSaveSuccessful"\n                        v-tooltip.bottom="tooltipSave"\n                        class="sw-manufacturer-detail__save-action"\n                        :is-loading="isLoading"\n                        :disabled="isLoading || !acl.can(\'product_manufacturer.editor\')"\n                        variant="primary"\n                        @click.prevent="onSave"\n                    >\n                        {{ $tc(\'sw-cms-pages.detail.save\')}}\n                    </sw-button-process>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block sw_cms_pages_detail_language_switch %}\n            <template #language-switch>\n                <sw-language-switch\n                    :disabled="pageId == null"\n                    :save-changes-function="saveOnLanguageChange"\n                     :abort-change-function="abortOnLanguageChange"\n                      @on-change="onChangeLanguage"\n                />\n            </template>\n        {% endblock %}\n              {% block sw_cms_pages_detail_content %}#}\n                    <sw-card-view slot="content">\n                        <template v-if="cmsIsLoading">\n                            <sw-skeleton variant="detail-bold" />\n                            <sw-skeleton />\n                        </template>\n                        <template v-else >\n                            {% block sw_cms_pages_detail_content_language_info %}\n                                <sw-language-info\n                                    :entity-description="placeholder(cmsPages, \'title\', $tc(\'sw-cms-pages.detail.addPage\'))"\n                                />\n                            {% endblock %}\n\n                            {% block sw_cms_pages_detail_base_basic_info_card %}\n                                <sw-card\n                                    position-identifier="sw-manufacturer-detail-basic-info"\n                                    :title="$tc(\'sw-cms-pages.detail.pageInfo\')"\n                                >\n\n                                    {% block sw_customer_address_form_country_field %}\n                                        <sw-entity-single-select\n                                            v-if="pageId == null"\n{#                                            :disabled="pageId != null"#}\n                                            v-model="cmsPages.pageId"\n                                            class="sw-customer-address-form__country-select"\n                                            entity="cms_pages_overview"\n                                            :criteria="cmsPageCriteria"\n                                            :label="$tc(\'sw-cms-pages.detail.addPage\')"\n                                            :placeholder="$tc(\'sw-cms-pages.detail.selectPage\')"\n                                            validation="required"\n                                            required\n                                            show-clearable-button>\n\n                                        </sw-entity-single-select>\n                                    {% endblock %}\n                                    {% block sw_cms_pages_detail_base_info_page_name%}\n                                        <sw-field\n                                            v-if="pageId != null"\n                                            v-model="cmsPages.cmsPagesOverview.name"\n                                            entity="cms_pages_overview"\n                                            type="text"\n                                            :disabled="true"\n                                            :label="$tc(\'sw-cms-pages.detail.addPage\')"\n                                            :placeholder="$tc(\'sw-cms-pages.detail.selectPage\')"\n                                            name="$tc(\'sw-cms-pages.detail.addPage\')"\n                                            validation="required"\n                                            required\n                                        />\n                                    {% endblock %}\n                                    <sw-container\n                                        class="sw-manufacturer-detail__container"\n                                        columns="repeat(auto-fit, minmax(250px, 1fr))"\n                                        gap="0 30px"\n                                    >\n                                        <div class="sw-manufacturer-detail__base-info-wrapper">\n                                            {% block sw_cms_pages_detail_base_info_field_name %}\n                                                <sw-field\n                                                    v-model="cmsPages.title"\n                                                    type="text"\n                                                    :label="$tc(\'sw-cms-pages.detail.pageName\')"\n                                                    :placeholder="placeholder(cmsPages, \'pageName\',$tc(\'sw-cms-pages.detail.placeholderTitle\'))"\n                                                    name="title"\n                                                    validation="required"\n                                                    required\n                                                />\n                                            {% endblock %}\n                                        </div>\n\n                                        {% block sw_cms_pages_detail_logo_upload %}\n                                            <sw-upload-listener\n                                                :upload-tag="mediaUploadTag"\n                                                auto-upload\n                                                @media-upload-finish="setMediaItem"\n                                            />\n                                            <sw-media-upload-v2\n                                                class="sw-manufacturer-detail__logo-upload"\n                                                :source="cmsPages.mediaId"\n                                                :allow-multi-select="false"\n                                                variant="regular"\n                                                :upload-tag="mediaUploadTag"\n                                                :label="$tc(\'sw-cms-pages.detail.selectImage\')"\n                                                :default-folder="pageRepository.entityName"\n                                                @sw-media-upload-v2-media-upload-success="setMediaItem"\n                                                @media-drop="onDropMedia"\n                                                @media-upload-sidebar-open="openMediaSidebar"\n                                                @media-upload-remove-image="onUnlinkLogo"\n                                            />\n                                        {% endblock %}\n                                    </sw-container>\n                                    {% block sw_manufacturer_detail_base_info_field_description %}\n                                        <sw-text-editor\n                                            v-model="cmsPages.description"\n                                            :label="$tc(\'sw-cms-pages.detail.description\')"\n                                            :placeholder="placeholder(cmsPages, \'description\', $tc(\'sw-cms-pages.detail.placeholderDescription\'))"\n                                            name="description"\n\n                                        />\n                                    {% endblock %}\n                                </sw-card>\n                            {% endblock %}\n                        </template>\n                    </sw-card-view>\n                {% endblock %}\n\n        {% block sw_cms_pages_detail_sidebar %}\n            <template slot="sidebar">\n                <sw-sidebar :propagate-width="true">\n                    <sw-sidebar-media-item\n                        ref="mediaSidebarItem"\n{#                        :disabled="!acl.can(\'cmsPages.editor\')"#}\n                    >\n                        <template\n                            slot="context-menu-items"\n                            slot-scope="media"\n                        >\n                            <sw-context-menu-item @click="setMediaFromSidebar(media.mediaItem)">\n                                {{ $tc(\'sw-manufacturer.detail.labelUseAsLogo\') }}\n                            </sw-context-menu-item>\n                        </template>\n                    </sw-sidebar-media-item>\n                </sw-sidebar>\n            </template>\n        {% endblock %}\n\n    </sw-page>\n{% endblock %}\n'},rewi:function(e){e.exports=JSON.parse("{}")}});